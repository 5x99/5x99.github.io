<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{{ page.title | default: site.title }}</title>
  <link rel="stylesheet" href="{{ "/assets/style.css" | relative_url }}">
</head>

<body>

  <!-- HEADER -->
  <div id="header">
    <a href="{{ "/" | relative_url }}" id="headerLink">
      {{ site.title }}
    </a>
    <span id="headerSubtitle">
      {{ site.subtitle }}
    </span>
  </div>

  <!-- TOP MENU -->
  <div id="menu">
    <span class="left">
      <a href="{{ "/" | relative_url }}">home</a>
      <a href="{{ "/section1/" | relative_url }}">section1</a>
      <a href="{{ "/section2/" | relative_url }}">section2</a>
    </span>
    <span class="right">
      <a href="{{ "/link1/" | relative_url }}">link1</a>
      <a href="{{ "/link2/" | relative_url }}">link2</a>
    </span>
  </div>

  <!-- CONTENT -->
  <div id="content">

    {%- comment -%}
      werc-style automatic nav:
      folder/
        page.md
    {%- endcomment -%}

    {% assign parts = page.path | split: "/" %}
    {% if parts.size > 1 %}
      {% assign folder = parts[0] %}
      {% assign prefix = folder | append: "/" %}

      {% assign nav_pages = site.pages | where_exp: "p",
        "p.path contains prefix and p.ext == '.md'" %}
    {% endif %}

    <!-- LEFT NAV -->
    {% if nav_pages and nav_pages.size > 1 %}
      <div id="nav">
        <ul>
          {% for p in nav_pages %}
            {% if p.title and p.url != page.url %}
              <li>
                <a href="{{ p.url | relative_url }}">
                  {{ p.title }}
                </a>
              </li>
            {% elsif p.url == page.url %}
              <li>
                <a class="thisSite" href="{{ p.url | relative_url }}">
                  {{ p.title }}
                </a>
              </li>
            {% endif %}
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    <!-- MAIN CONTENT -->
    <div id="main">
      {{ content }}
    </div>

  </div>

</body>
</html>
