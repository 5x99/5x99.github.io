---
layout: default
---

<article class="post" itemscope itemtype="https://schema.org/BlogPosting">
  
  <header class="post-header">
    <h1 class="post-title" itemprop="headline">{{ page.title }}</h1>
    
    <div class="post-meta">
      <time class="post-date" datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
        {{ page.date | date: "%B %d, %Y" }}
      </time>
      
      {% if page.last_modified_at %}
      <time class="post-modified" datetime="{{ page.last_modified_at | date_to_xmlschema }}" itemprop="dateModified">
        Updated: {{ page.last_modified_at | date: "%B %d, %Y" }}
      </time>
      {% endif %}
      
      {% if page.author %}
      <span class="post-author" itemprop="author" itemscope itemtype="https://schema.org/Person">
        <meta itemprop="name" content="{{ page.author }}">
        By {{ page.author }}
      </span>
      {% endif %}
      
      {% if page.reading_time %}
      <span class="post-reading-time">{{ page.reading_time }} min read</span>
      {% endif %}
    </div>

    {% if page.excerpt %}
    <p class="post-excerpt" itemprop="description">{{ page.excerpt }}</p>
    {% endif %}
  </header>

  {% comment %}
    Render content and capture for TOC generation
  {% endcomment %}
  {% capture rendered_content %}{{ content }}{% endcapture %}
  
  {% comment %}
    Extract all headings (h2, h3, h4) from the rendered content
    Pattern: <h[2-4][^>]*>text</h[2-4]>
  {% endcomment %}
  {% assign headings = rendered_content | scan: '<h([2-4])[^>]*>([^<]+)<\/h[2-4]>' %}
  
  {% comment %}
    Display TOC if there are headings
  {% endcomment %}
  {% if headings.size > 0 %}
  <nav class="post-toc" aria-label="Table of contents">
    <h3 class="post-toc-title">Quick Navigation</h3>
    <ul class="post-toc-list">
    {% for heading in headings %}
      {% assign level = heading[0] %}
      {% assign text = heading[1] %}
      {% assign id = text | slugify %}
      <li class="toc-item toc-level-{{ level }}">
        <a href="#{{ id }}" class="toc-link">{{ text }}</a>
      </li>
    {% endfor %}
    </ul>
  </nav>
  {% endif %}

  <div class="post-content" itemprop="articleBody">
    {{ content }}
  </div>

  {% if page.tags %}
  <footer class="post-footer">
    <nav class="post-tags" aria-label="Post tags">
      {% for tag in page.tags %}
      <a href="{{ site.baseurl }}/tags/{{ tag | slugify }}/" class="tag">#{{ tag }}</a>
      {% endfor %}
    </nav>
  </footer>
  {% endif %}

</article>

<!-- Navigation between posts -->
<nav class="post-navigation" aria-label="Posts navigation">
  <ul>
    {% if page.previous %}
    <li class="prev">
      <a href="{{ page.previous.url | relative_url }}" rel="prev">&larr; {{ page.previous.title }}</a>
    </li>
    {% endif %}
    
    {% if page.next %}
    <li class="next">
      <a href="{{ page.next.url | relative_url }}" rel="next">{{ page.next.title }} &rarr;</a>
    </li>
    {% endif %}
  </ul>
</nav>
